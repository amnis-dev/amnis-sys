{
  "$id": "state",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "DataCreator": {
      "type": "object",
      "properties": {
        "audit": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Audit"
          }
        },
        "contact": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Contact"
          }
        },
        "credential": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Credential"
          }
        },
        "handle": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Handle"
          }
        },
        "history": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/History"
          }
        },
        "image": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Image"
          }
        },
        "locale": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Locale"
          }
        },
        "log": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Log"
          }
        },
        "note": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Note"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Profile"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Role"
          }
        },
        "service": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Service"
          }
        },
        "system": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/System"
          }
        },
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/User"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Session"
          }
        },
        "video": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Video"
          }
        }
      },
      "additionalProperties": false
    },
    "Audit": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "action": {
          "type": "string",
          "description": "Action attempted"
        },
        "completed": {
          "type": "boolean",
          "description": "If the action was completed."
        },
        "inputBody": {
          "description": "Input body data."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject id of the audit."
        },
        "ip": {
          "type": "string",
          "description": "IP address of the subject."
        },
        "location": {
          "type": "string",
          "description": "Location of the subject."
        }
      },
      "required": [
        "$id",
        "action",
        "completed"
      ],
      "additionalProperties": false,
      "description": "A data structure for audit information."
    },
    "Data": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        }
      },
      "required": [
        "$id"
      ],
      "additionalProperties": false
    },
    "UID": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "Contact": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name (or title) of the contact",
          "title": "Name"
        },
        "description": {
          "type": "string",
          "description": "Details about the contact."
        },
        "phones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Phone numbers. First item in the array is the primary phone number.",
          "title": "Phone Numbers"
        },
        "emails": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Contact emails. First item in the array is the primary email.",
          "title": "E-Mail Addresses"
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "Contact's social urls."
        }
      },
      "required": [
        "$id",
        "emails",
        "name",
        "phones",
        "socials"
      ],
      "additionalProperties": false,
      "description": "Contact entity"
    },
    "SURL": {
      "type": "string",
      "description": "A string that represents a URL. Named SURL (String URL) so it's not confused with the URL object type.",
      "pattern": "^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?$",
      "minLength": 0,
      "maxLength": 512
    },
    "Credential": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "$ref": "#/definitions/Name",
          "description": "Name of the credential"
        },
        "publicKey": {
          "$ref": "#/definitions/Encoding",
          "description": "Credential's public key for verifying signatures."
        },
        "ip": {
          "$ref": "#/definitions/IP",
          "description": "The IP address when the credential was registered."
        },
        "used": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date-time of when the credential was last used."
        }
      },
      "required": [
        "$id",
        "name",
        "publicKey"
      ],
      "additionalProperties": false,
      "description": "Entity that contains data to verify credentials."
    },
    "Name": {
      "type": "string",
      "description": "A human-friendly name.",
      "minLength": 1,
      "maxLength": 32
    },
    "Encoding": {
      "type": "string",
      "description": "A string encoded object.",
      "minLength": 1,
      "maxLength": 512
    },
    "IP": {
      "type": "string",
      "description": "An IP address.",
      "pattern": "^[0-9a-fA-F.:]+$",
      "minLength": 8,
      "maxLength": 34
    },
    "DateJSON": {
      "type": "string",
      "description": "A string that represents a JSON Date.",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$"
    },
    "Handle": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "$ref": "#/definitions/HandleName",
          "description": "The handle name."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "The subject this handle references."
        }
      },
      "required": [
        "$id",
        "$subject",
        "name"
      ],
      "additionalProperties": false,
      "description": "Handles contain unique names that reference a particular subject. The subject is typically a user."
    },
    "HandleName": {
      "type": "string",
      "description": "Human-freindly name to reference a particular subject.",
      "pattern": "^[A-Za-z0-9_-]+$",
      "minLength": 1,
      "maxLength": 24
    },
    "History": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "The subject that was updated."
        },
        "task": {
          "$ref": "#/definitions/GrantTask",
          "description": "The state task performed."
        },
        "mutation": {
          "description": "The state mutation record that was performed."
        }
      },
      "required": [
        "$id",
        "$subject",
        "mutation",
        "task"
      ],
      "additionalProperties": false,
      "description": "Historical updates to data."
    },
    "GrantTask": {
      "type": "number",
      "enum": [
        0,
        1,
        2,
        4,
        8
      ],
      "description": "Data tasks."
    },
    "Image": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        },
        "extension": {
          "type": "string",
          "enum": [
            "webp",
            "jpeg",
            "png",
            "bmp",
            "tiff"
          ],
          "description": "image extention type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        }
      },
      "required": [
        "$id",
        "aspect",
        "extension",
        "height",
        "mimetype",
        "size",
        "slug",
        "title",
        "width"
      ],
      "additionalProperties": false
    },
    "File": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id",
        "mimetype",
        "size",
        "slug",
        "title"
      ],
      "additionalProperties": false,
      "description": "An abstract file type intended to be extended my more specific types: Image, Video, and Audio."
    },
    "UID<Profile>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "Locale": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "code": {
          "type": "string",
          "description": "Two-character language code.",
          "minLength": 2,
          "maxLength": 2
        },
        "set": {
          "type": "string",
          "description": "Name of the translation set for organization.",
          "minLength": 1,
          "maxLength": 32
        },
        "t": {
          "$ref": "#/definitions/LocaleTranslation",
          "description": "The language key value translations."
        },
        "v": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Variables that can be inserted into translation text."
        }
      },
      "required": [
        "$id",
        "code",
        "set",
        "t",
        "v"
      ],
      "additionalProperties": false,
      "description": "Locale entity"
    },
    "LocaleTranslation": {
      "type": "object",
      "additionalProperties": false,
      "description": "Record of locale translations."
    },
    "Log": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "level": {
          "$ref": "#/definitions/LogLevel",
          "description": "Level of the log."
        },
        "title": {
          "type": "string",
          "description": "Title of the log."
        },
        "description": {
          "type": "string",
          "description": "Description of the log."
        },
        "system": {
          "type": "string",
          "description": "System this log is from."
        },
        "$invoker": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "UID to a user that invoked the log."
        }
      },
      "required": [
        "$id",
        "description",
        "level",
        "system",
        "title"
      ],
      "additionalProperties": false,
      "description": "An entity object that contains log information."
    },
    "LogLevel": {
      "type": "string",
      "enum": [
        "fatal",
        "error",
        "success",
        "warn",
        "info",
        "debug"
      ],
      "description": "Log levels."
    },
    "UID<User>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "Note": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject this note is attached to."
        },
        "text": {
          "type": "string",
          "description": "Textual content of the note."
        }
      },
      "required": [
        "$id",
        "$subject",
        "text"
      ],
      "additionalProperties": false,
      "description": "A message to aid memory about the historic change."
    },
    "Profile": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$user": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name"
        },
        "birthDate": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date of birth."
        },
        "title": {
          "type": "string",
          "description": "Title for work or otherwise."
        },
        "$contact": {
          "$ref": "#/definitions/UID%3CContact%3E",
          "description": "Profile Contact."
        },
        "organization": {
          "type": "string",
          "description": "Organization profile is a part of."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar string url to an image."
        }
      },
      "required": [
        "$id",
        "$user",
        "nameDisplay"
      ],
      "additionalProperties": false,
      "description": "Profile entity"
    },
    "UID<Contact>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "Role": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "fsLimits": {
          "$ref": "#/definitions/RoleFsLimits",
          "description": "file upload limits in kilobytes."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Grant"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "$id",
        "color",
        "description",
        "fsLimits",
        "grants",
        "name"
      ],
      "additionalProperties": false,
      "description": "A license is a defined object for granting multiple permissions to perform actions or selections."
    },
    "RoleFsLimits": {
      "type": "array",
      "minItems": 3,
      "items": [
        {
          "type": "number",
          "title": "other"
        },
        {
          "type": "number",
          "title": "image"
        },
        {
          "type": "number",
          "title": "video"
        }
      ],
      "maxItems": 3,
      "description": "Role limits"
    },
    "Grant": {
      "type": "array",
      "minItems": 3,
      "items": [
        {
          "type": "string",
          "title": "key"
        },
        {
          "$ref": "#/definitions/GrantScope",
          "title": "scope"
        },
        {
          "$ref": "#/definitions/GrantTasks",
          "title": "task"
        }
      ],
      "maxItems": 3,
      "description": "Grant object."
    },
    "GrantScope": {
      "type": "number",
      "enum": [
        0,
        1,
        2,
        4
      ],
      "description": "Data scopes."
    },
    "GrantTasks": {
      "type": "number",
      "description": "A composition of granted tasks."
    },
    "Service": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "description": "Name of the service."
        },
        "description": {
          "type": "string",
          "description": "Description of the service."
        },
        "status": {
          "type": "string",
          "enum": [
            "offline",
            "running",
            "restarting"
          ],
          "description": "Status of the service."
        },
        "dateChecked": {
          "$ref": "#/definitions/DateJSON",
          "description": "Last checked datetime"
        }
      },
      "required": [
        "$id",
        "dateChecked",
        "name",
        "status"
      ],
      "additionalProperties": false,
      "description": "Service entity"
    },
    "System": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name of the system."
        },
        "handle": {
          "$ref": "#/definitions/HandleName",
          "description": "System handle for identifying system created resources."
        },
        "domain": {
          "type": "string",
          "description": "Domain name of the system."
        },
        "sessionKey": {
          "type": "string",
          "description": "Name of the session key."
        },
        "sessionExpires": {
          "type": "number",
          "description": "Number in minutes that an authentication session should live.",
          "default": 60
        },
        "bearerExpires": {
          "type": "number",
          "description": "Number in minutes that a bearer token should live.",
          "default": 30
        },
        "registrationOpen": {
          "type": "boolean",
          "description": "Open registration to anonymous users. Otherwise, only executives and admins can initialize a registration for a new client.",
          "default": true
        },
        "challengeExpiration": {
          "type": "number",
          "description": "Expiration of a challenge code in minutes.",
          "default": 30
        },
        "otpExpiration": {
          "type": "number",
          "description": "Expiration of a One-time password in minutes.",
          "default": 5
        },
        "otpLength": {
          "type": "number",
          "description": "Character length of one-time passwords.",
          "default": 12
        },
        "emailNews": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for news."
        },
        "emailNotify": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for system notifications."
        },
        "emailAuth": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for authentication tasks."
        },
        "fileSizeMax": {
          "type": "number",
          "description": "Maximum file size that can be uploaded in kilobytes."
        },
        "$adminRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an administrator. Administrators have complete control."
        },
        "$execRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an executive. Executives have second-highest control over a system, just under administrators."
        },
        "$anonymousRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Anonymous access permissions. These are roles used when no authorization is provided by the client.",
          "default": []
        },
        "$initialRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "The initial roles to assign to a user when a new account is created.",
          "default": []
        }
      },
      "required": [
        "$adminRole",
        "$anonymousRole",
        "$execRole",
        "$id",
        "$initialRoles",
        "bearerExpires",
        "challengeExpiration",
        "domain",
        "emailAuth",
        "emailNews",
        "emailNotify",
        "fileSizeMax",
        "handle",
        "name",
        "otpExpiration",
        "otpLength",
        "registrationOpen",
        "sessionExpires",
        "sessionKey"
      ],
      "additionalProperties": false
    },
    "Email": {
      "type": "string",
      "description": "An email address",
      "pattern": "^[\\w.-]+@([\\w-]+\\.)+[\\w-]{2,4}$",
      "maxLength": 64
    },
    "UID<Role>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "UIDList<Role>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CRole%3E"
      },
      "description": "List of identifiers."
    },
    "User": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "handle": {
          "$ref": "#/definitions/HandleName",
          "description": "Handle for the user."
        },
        "password": {
          "$ref": "#/definitions/Password",
          "description": "A hashed value of the users password."
        },
        "locked": {
          "type": "boolean",
          "description": "If this account is locked from being authenticated.",
          "default": false
        },
        "email": {
          "$ref": "#/definitions/Email",
          "description": "Email address for user account related purposes."
        },
        "emailVerified": {
          "type": "boolean",
          "description": "If the user email is verified."
        },
        "phone": {
          "type": "string",
          "description": "Phone number for user account related purposes.",
          "maxLength": 24
        },
        "phoneVerified": {
          "type": "boolean",
          "description": "If the user phone number is verified."
        },
        "admin": {
          "type": "boolean",
          "description": "If this is an administrative account."
        },
        "logged": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date-time of last login."
        },
        "$credentials": {
          "$ref": "#/definitions/UIDList%3CCredential%3E",
          "description": "Credentials this user has registered.",
          "default": []
        },
        "$roles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Roles this user has been given.",
          "default": []
        },
        "$permits": {
          "$ref": "#/definitions/UIDList%3CPermit%3E",
          "description": "Special-case permits this user has been bestowed.",
          "default": []
        }
      },
      "required": [
        "$credentials",
        "$id",
        "$permits",
        "$roles",
        "handle",
        "locked"
      ],
      "additionalProperties": false,
      "description": "Data associated to a User."
    },
    "Password": {
      "type": "string",
      "description": "A clear-text password.",
      "minLength": 4,
      "maxLength": 32
    },
    "UIDList<Credential>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CCredential%3E"
      },
      "description": "List of identifiers."
    },
    "UID<Credential>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "UIDList<Permit>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CPermit%3E"
      },
      "description": "List of identifiers."
    },
    "UID<Permit>": {
      "type": "string",
      "description": "A id identifier to another document.",
      "pattern": "^[a-z]{1,24}:[A-Za-z0-9_-]{16,32}$",
      "minLength": 18,
      "maxLength": 56
    },
    "Session": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject of the session. Typically a user id."
        },
        "$credential": {
          "$ref": "#/definitions/UID",
          "description": "The credential id in use."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "adm": {
          "type": "boolean",
          "description": "If the session holder is an administrator."
        },
        "exc": {
          "type": "boolean",
          "description": "If the session holder is an executive."
        },
        "prv": {
          "type": "boolean",
          "description": "If the session holder has one of the privileged roles. (Administrator or Executive)"
        }
      },
      "required": [
        "$credential",
        "$id",
        "$subject",
        "adm",
        "exc",
        "exp",
        "prv"
      ],
      "additionalProperties": false,
      "description": "A session object. Session data should be stored in *SECURE* HTTP cookies only."
    },
    "DateNumeric": {
      "type": "number",
      "description": "A string that represents a JSON Date."
    },
    "Video": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        },
        "extension": {
          "type": "string",
          "enum": [
            "webm",
            "mp4",
            "mpeg",
            "mov"
          ],
          "description": "Video format type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "duration": {
          "type": "number",
          "description": "Duration length of the video in seconds."
        }
      },
      "required": [
        "$id",
        "aspect",
        "duration",
        "extension",
        "height",
        "mimetype",
        "size",
        "slug",
        "title",
        "width"
      ],
      "additionalProperties": false
    },
    "DataUpdater": {
      "type": "object",
      "properties": {
        "audit": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CAudit%3E"
          }
        },
        "contact": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CContact%3E"
          }
        },
        "credential": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CCredential%3E"
          }
        },
        "history": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CHistory%3E"
          }
        },
        "image": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CImage%3E"
          }
        },
        "locale": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CLocale%3E"
          }
        },
        "log": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CLog%3E"
          }
        },
        "note": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CNote%3E"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CProfile%3E"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CRole%3E"
          }
        },
        "service": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CService%3E"
          }
        },
        "system": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CSystem%3E"
          }
        },
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CUser%3E"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CSession%3E"
          }
        },
        "video": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataUpdate%3CVideo%3E"
          }
        }
      },
      "additionalProperties": false
    },
    "DataUpdate<Audit>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "action": {
          "type": "string",
          "description": "Action attempted"
        },
        "completed": {
          "type": "boolean",
          "description": "If the action was completed."
        },
        "inputBody": {
          "description": "Input body data."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject id of the audit."
        },
        "ip": {
          "type": "string",
          "description": "IP address of the subject."
        },
        "location": {
          "type": "string",
          "description": "Location of the subject."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Contact>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name (or title) of the contact",
          "title": "Name"
        },
        "description": {
          "type": "string",
          "description": "Details about the contact."
        },
        "phones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Phone numbers. First item in the array is the primary phone number.",
          "title": "Phone Numbers"
        },
        "emails": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Contact emails. First item in the array is the primary email.",
          "title": "E-Mail Addresses"
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "Contact's social urls."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Credential>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "$ref": "#/definitions/Name",
          "description": "Name of the credential"
        },
        "publicKey": {
          "$ref": "#/definitions/Encoding",
          "description": "Credential's public key for verifying signatures."
        },
        "ip": {
          "$ref": "#/definitions/IP",
          "description": "The IP address when the credential was registered."
        },
        "used": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date-time of when the credential was last used."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<History>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "The subject that was updated."
        },
        "task": {
          "$ref": "#/definitions/GrantTask",
          "description": "The state task performed."
        },
        "mutation": {
          "description": "The state mutation record that was performed."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Image>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "extension": {
          "type": "string",
          "enum": [
            "webp",
            "jpeg",
            "png",
            "bmp",
            "tiff"
          ],
          "description": "image extention type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Locale>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "code": {
          "type": "string",
          "description": "Two-character language code.",
          "minLength": 2,
          "maxLength": 2
        },
        "set": {
          "type": "string",
          "description": "Name of the translation set for organization.",
          "minLength": 1,
          "maxLength": 32
        },
        "t": {
          "$ref": "#/definitions/LocaleTranslation",
          "description": "The language key value translations."
        },
        "v": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Variables that can be inserted into translation text."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Log>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "level": {
          "$ref": "#/definitions/LogLevel",
          "description": "Level of the log."
        },
        "title": {
          "type": "string",
          "description": "Title of the log."
        },
        "description": {
          "type": "string",
          "description": "Description of the log."
        },
        "system": {
          "type": "string",
          "description": "System this log is from."
        },
        "$invoker": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "UID to a user that invoked the log."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Note>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject this note is attached to."
        },
        "text": {
          "type": "string",
          "description": "Textual content of the note."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Profile>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$user": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name"
        },
        "birthDate": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date of birth."
        },
        "title": {
          "type": "string",
          "description": "Title for work or otherwise."
        },
        "$contact": {
          "$ref": "#/definitions/UID%3CContact%3E",
          "description": "Profile Contact."
        },
        "organization": {
          "type": "string",
          "description": "Organization profile is a part of."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar string url to an image."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Role>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "fsLimits": {
          "$ref": "#/definitions/RoleFsLimits",
          "description": "file upload limits in kilobytes."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Grant"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Service>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "description": "Name of the service."
        },
        "description": {
          "type": "string",
          "description": "Description of the service."
        },
        "status": {
          "type": "string",
          "enum": [
            "offline",
            "running",
            "restarting"
          ],
          "description": "Status of the service."
        },
        "dateChecked": {
          "$ref": "#/definitions/DateJSON",
          "description": "Last checked datetime"
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<System>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "name": {
          "type": "string",
          "description": "Name of the system."
        },
        "handle": {
          "$ref": "#/definitions/HandleName",
          "description": "System handle for identifying system created resources."
        },
        "domain": {
          "type": "string",
          "description": "Domain name of the system."
        },
        "sessionKey": {
          "type": "string",
          "description": "Name of the session key."
        },
        "sessionExpires": {
          "type": "number",
          "description": "Number in minutes that an authentication session should live.",
          "default": 60
        },
        "bearerExpires": {
          "type": "number",
          "description": "Number in minutes that a bearer token should live.",
          "default": 30
        },
        "registrationOpen": {
          "type": "boolean",
          "description": "Open registration to anonymous users. Otherwise, only executives and admins can initialize a registration for a new client.",
          "default": true
        },
        "challengeExpiration": {
          "type": "number",
          "description": "Expiration of a challenge code in minutes.",
          "default": 30
        },
        "otpExpiration": {
          "type": "number",
          "description": "Expiration of a One-time password in minutes.",
          "default": 5
        },
        "otpLength": {
          "type": "number",
          "description": "Character length of one-time passwords.",
          "default": 12
        },
        "emailNews": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for news."
        },
        "emailNotify": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for system notifications."
        },
        "emailAuth": {
          "$ref": "#/definitions/Email",
          "description": "The sender email address for authentication tasks."
        },
        "fileSizeMax": {
          "type": "number",
          "description": "Maximum file size that can be uploaded in kilobytes."
        },
        "$adminRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an administrator. Administrators have complete control."
        },
        "$execRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an executive. Executives have second-highest control over a system, just under administrators."
        },
        "$anonymousRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Anonymous access permissions. These are roles used when no authorization is provided by the client.",
          "default": []
        },
        "$initialRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "The initial roles to assign to a user when a new account is created.",
          "default": []
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<User>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "handle": {
          "$ref": "#/definitions/HandleName",
          "description": "Handle for the user."
        },
        "password": {
          "$ref": "#/definitions/Password",
          "description": "A hashed value of the users password."
        },
        "locked": {
          "type": "boolean",
          "description": "If this account is locked from being authenticated.",
          "default": false
        },
        "email": {
          "$ref": "#/definitions/Email",
          "description": "Email address for user account related purposes."
        },
        "emailVerified": {
          "type": "boolean",
          "description": "If the user email is verified."
        },
        "phone": {
          "type": "string",
          "description": "Phone number for user account related purposes.",
          "maxLength": 24
        },
        "phoneVerified": {
          "type": "boolean",
          "description": "If the user phone number is verified."
        },
        "admin": {
          "type": "boolean",
          "description": "If this is an administrative account."
        },
        "logged": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date-time of last login."
        },
        "$credentials": {
          "$ref": "#/definitions/UIDList%3CCredential%3E",
          "description": "Credentials this user has registered.",
          "default": []
        },
        "$roles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Roles this user has been given.",
          "default": []
        },
        "$permits": {
          "$ref": "#/definitions/UIDList%3CPermit%3E",
          "description": "Special-case permits this user has been bestowed.",
          "default": []
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Session>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject of the session. Typically a user id."
        },
        "$credential": {
          "$ref": "#/definitions/UID",
          "description": "The credential id in use."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "adm": {
          "type": "boolean",
          "description": "If the session holder is an administrator."
        },
        "exc": {
          "type": "boolean",
          "description": "If the session holder is an executive."
        },
        "prv": {
          "type": "boolean",
          "description": "If the session holder has one of the privileged roles. (Administrator or Executive)"
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataUpdate<Video>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID"
        },
        "extension": {
          "type": "string",
          "enum": [
            "webm",
            "mp4",
            "mpeg",
            "mov"
          ],
          "description": "Video format type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "duration": {
          "type": "number",
          "description": "Duration length of the video in seconds."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id"
      ],
      "description": "An update definition for an extended data object."
    },
    "DataOperations": {
      "type": "object",
      "properties": {
        "create": {
          "$ref": "#/definitions/DataCreator"
        },
        "update": {
          "$ref": "#/definitions/DataUpdater"
        },
        "delete": {
          "$ref": "#/definitions/DataDeleter"
        },
        "query": {
          "$ref": "#/definitions/DataQuery"
        }
      },
      "additionalProperties": false
    },
    "DataDeleter": {
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "$ref": "#/definitions/UID"
        }
      },
      "description": "A collection of extended data objects to delete."
    },
    "DataQuery": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/DataQueryOptions"
      },
      "description": "A query object to search for data."
    },
    "DataQueryOptions": {
      "type": "object",
      "properties": {
        "$query": {
          "$ref": "#/definitions/DataQueryProps",
          "description": "Query of keys."
        },
        "$order": {
          "$ref": "#/definitions/DataOrder",
          "description": "Order of query."
        },
        "$range": {
          "$ref": "#/definitions/DataRange",
          "description": "Range of query."
        },
        "$history": {
          "type": "boolean",
          "description": "Request a number of historic records with the results."
        },
        "$depth": {
          "type": "number",
          "description": "Depth to query for other referenced entities.",
          "minimum": 0,
          "maximum": 3,
          "multipleOf": 1
        }
      },
      "additionalProperties": false
    },
    "DataQueryProps": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/DataFilter"
      }
    },
    "DataFilter": {
      "type": "object",
      "properties": {
        "$eq": {
          "description": "Matches values that are equal to a specified value."
        },
        "$neq": {
          "description": "Matches values that do not equal to a specified value."
        },
        "$gt": {
          "type": "number",
          "description": "Matches values that are greater than a specified value."
        },
        "$gte": {
          "type": "number",
          "description": "Matches values that are greater than or equal to a specified value."
        },
        "$lt": {
          "type": "number",
          "description": "Matches values that are less than a specified value."
        },
        "$lte": {
          "type": "number",
          "description": "Matches values that are less than or equal to a specified value."
        },
        "$in": {
          "type": "array",
          "items": {},
          "description": "Matches any of the values specified in an array."
        },
        "$nin": {
          "type": "array",
          "items": {},
          "description": "Matches any of the values specified not in an array."
        }
      },
      "additionalProperties": false,
      "description": "Filter object for a query."
    },
    "DataOrder": {
      "type": "array",
      "minItems": 2,
      "items": [
        {
          "type": "string",
          "title": "by"
        },
        {
          "type": "string",
          "enum": [
            "asc",
            "desc"
          ],
          "title": "direction"
        }
      ],
      "maxItems": 2,
      "description": "Data ordering options."
    },
    "DataRange": {
      "type": "object",
      "properties": {
        "start": {
          "type": "number",
          "description": "Start query at record value.",
          "minimum": 0,
          "maximum": 4096,
          "multipleOf": 1
        },
        "limit": {
          "type": "number",
          "description": "Limit results of the query.",
          "minimum": 0,
          "maximum": 64,
          "multipleOf": 1
        }
      },
      "additionalProperties": false,
      "description": "StateQuery range"
    }
  }
}
